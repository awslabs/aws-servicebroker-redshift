FROM ansibleplaybookbundle/apb-base
MAINTAINER Ansible Playbook Bundle Community

RUN yum -y install python-boto3 && yum clean all

COPY roles /opt/ansible/roles
COPY playbooks /opt/apb/actions

LABEL "com.redhat.apb.version"="0.1.0"
LABEL "com.redhat.apb.spec"=\
"bmFtZTogcmVkc2hpZnQtYXBiCmltYWdlOiBhbnNpYmxlcGxheWJvb2tidW5kbGUvcmVkc2hpZnQt\
YXBiCmRlc2NyaXB0aW9uOiAnTWFuYWdlZCByZWRzaGlmdCBjbHVzdGVyJwp0YWdzOgogIC0gYW1h\
em9uCiAgLSByZWRzaGlmdApiaW5kYWJsZTogdHJ1ZQphc3luYzogb3B0aW9uYWwKcGxhbnM6CiAg\
LSBuYW1lOiBkZWZhdWx0CiAgICBkZXNjcmlwdGlvbjogJ01hbmFnZWQgcmVkc2hpZnQgY2x1c3Rl\
cicKICAgIGZyZWU6IGZhbHNlCiAgICBwYXJhbWV0ZXJzOgogICAgICAtIG5hbWU6IHN0YWNrX2lk\
ZW50aWZpZXIKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBVbmlxdWUgU3Rh\
Y2sgSWRlbnRpZmllcgogICAgICAgIGRlc2NyaXB0aW9uOiAnVW5pcXVlIGlkZW50aWZpZXIgdG8g\
YmUgaW5jbHVkZWQgaW4gdGhlIENsb3VkRm9ybWF0aW9uIFN0YWNrIE5hbWUgdG8gcHJldmVudCBu\
YW1pbmcgY29sbGlzaW9ucy4gTXVzdCBvbmx5IGNvbnRhaW4gYWxwaGFudW1lcmljIGNoYXJhY3Rl\
cnMgYW5kIGh5cGhlbnMuIChlLmcuICJzYW1wbGUtcmVkc2hpZnQtc3RhY2siLCAicHJvZHVjdGlv\
bi1yZWRzaGlmdC0wOS0yMDE3IiknCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgIC0gbmFtZTog\
YXdzX2FjY2Vzc19rZXkKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBBV1Mg\
QWNjZXNzIEtleQogICAgICAgIGRlc2NyaXB0aW9uOiAnQVdTIEFjY2VzcyBLZXkgdG8gYXV0aGVu\
dGljYXRlIHRvIEFXUyB3aXRoLicKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgLSBuYW1lOiBh\
d3Nfc2VjcmV0X2tleQogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IEFXUyBT\
ZWNyZXQgS2V5CiAgICAgICAgZGVzY3JpcHRpb246ICdBV1MgU2VjcmV0IEtleSB0byBhdXRoZW50\
aWNhdGUgdG8gQVdTIHdpdGguJwogICAgICAgIHR5cGU6IHN0cmluZwogICAgICAtIG5hbWU6IHJl\
Z2lvbgogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IEFXUyBSZWdpb24KICAg\
ICAgICBkZXNjcmlwdGlvbjogJ0FXUyBSZWdpb24gdG8gY3JlYXRlIFJEUyBpbnN0YW5jZSBpbi4n\
CiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgICAgZGVmYXVsdDogInVzLXdlc3QtMiIKICAgICAg\
LSBuYW1lOiBBcHBsaWNhdGlvbk5hbWUKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRp\
dGxlOiBBcHBsaWNhdGlvbiBOYW1lCiAgICAgICAgZGVzY3JpcHRpb246ICdSZWRzaGlmdCBBcHBs\
aWNhdGlvbiBuYW1lJwogICAgICAgIHR5cGU6IHN0cmluZwogICAgICAtIG5hbWU6IERCTmFtZQog\
ICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IERCIE5hbWUKICAgICAgICBkZXNj\
cmlwdGlvbjogJ1RoZSBuYW1lIG9mIHRoZSBkYXRhYmFzZSB0byBjcmVhdGUgd2hlbiB0aGUgUmVk\
c2hpZnQgY2x1c3RlciBpcyBjcmVhdGVkLiAobGV0dGVycyBhbmQgbnVtYmVycywgbWF4IDY0IGNo\
YXJzKScKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgICBkZWZhdWx0OiAiRFdEQjEiCiAgICAg\
IC0gbmFtZTogVnBjSWQKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBWUEMg\
SUQKICAgICAgICBkZXNjcmlwdGlvbjogJ1ZQQyBJRCAoZS5nLiAidnBjLTZjOWYxYTBiIiknCiAg\
ICAgICAgdHlwZTogc3RyaW5nCiAgICAgIC0gbmFtZTogQmFja3VwUmV0ZW50aW9uUGVyaW9kCiAg\
ICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogQmFja3VwIFJldGVudGlvbiBQZXJp\
b2QKICAgICAgICBkZXNjcmlwdGlvbjogJ1RoZSBudW1iZXIgb2YgZGF5cyBkdXJpbmcgd2hpY2gg\
YXV0b21hdGljIEJhY2t1cHMgYXJlIHJldGFpbmVkLiBTZXR0aW5nIDAgZGlzYWJsZXMgYXV0b21h\
dGljIHNuYXBzaG90cywgbWF4aW11bSB2YWx1ZSBpcyAzNS4nCiAgICAgICAgdHlwZTogaW50CiAg\
ICAgICAgZGVmYXVsdDogMzUKICAgICAgLSBuYW1lOiBQb3J0TnVtYmVyCiAgICAgICAgcmVxdWly\
ZWQ6IHRydWUKICAgICAgICB0aXRsZTogUG9ydCBOdW1iZXIKICAgICAgICBkZXNjcmlwdGlvbjog\
J1RoZSBwb3J0IG51bWJlciBmb3IgdGhlIGRhdGFiYXNlIHNlcnZlciB0byBsaXN0ZW4gb24uICh2\
YWx1ZXMgaW4gcmFuZ2UgMTE1MC02NTUzNSknCiAgICAgICAgdHlwZTogaW50CiAgICAgICAgZGVm\
YXVsdDogNTQzOQogICAgICAtIG5hbWU6IFB1YmxpY2x5QWNjZXNzaWJsZQogICAgICAgIHJlcXVp\
cmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IFB1YmxpY2x5IEFjY2Vzc2libGUKICAgICAgICBkZXNj\
cmlwdGlvbjogJ0luZGljYXRlcyB3aGV0aGVyIHRoZSBEQiBpbnN0YW5jZSBpcyBhbiBJbnRlcm5l\
dC1mYWNpbmcgaW5zdGFuY2UuICh2YWx1ZXM6ICJ0cnVlIiwgImZhbHNlIiknCiAgICAgICAgdHlw\
ZTogc3RyaW5nCiAgICAgICAgZGVmYXVsdDogImZhbHNlIgogICAgICAtIG5hbWU6IFByZWZlcnJl\
ZE1haW50ZW5hbmNlV2luZG93RGF5CiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRs\
ZTogRGF5IG9mIFByZWZlcnJlZCBNYWludGVuYW5jZSBXaW5kb3cKICAgICAgICBkZXNjcmlwdGlv\
bjogJ1RoZSBkYXkgb2YgdGhlIHdlZWsgd2hpY2ggUmVkU2hpZnQgIG1haW50ZW5hbmNlIHdpbGwg\
YmUgcGVyZm9ybWVkIChlLmcuICJNb24iKScKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgICBk\
ZWZhdWx0OiAiTW9uIgogICAgICAtIG5hbWU6IFByZWZlcnJlZE1haW50ZW5hbmNlV2luZG93U3Rh\
cnRUaW1lCiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogUHJlZmVycmVkIE1h\
aW50ZW5hbmNlIFdpbmRvdyBTdGFydCBUaW1lCiAgICAgICAgZGVzY3JpcHRpb246ICdUaGUgd2Vl\
a2x5IHN0YXJ0IHRpbWUgaW4gVVRDIGZvciB0aGUgUmVkU2hpZnQgbWFpbnRlbmFuY2Ugd2luZG93\
LCBtdXN0IGJlIGxlc3MgdGhhbiBQcmVmZXJyZWQgTWFpbnRlbmFuY2UgV2luZG93IEVuZCBUaW1l\
IGFuZCBjYW5ub3Qgb3ZlcmxhcCB3aXRoIFByZWZlcnJlZCBCYWNrdXAgV2luZG93IChlLmcuICIw\
NDowMCIpJwogICAgICAgIHR5cGU6IHN0cmluZwogICAgICAgIGRlZmF1bHQ6ICIwNDowMCIKICAg\
ICAgLSBuYW1lOiBQcmVmZXJyZWRNYWludGVuYW5jZVdpbmRvd0VuZFRpbWUKICAgICAgICByZXF1\
aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBQcmVmZXJyZWQgTWFpbnRlbmFuY2UgV2luZG93IEVu\
ZCBUaW1lCiAgICAgICAgZGVzY3JpcHRpb246ICdUaGUgd2Vla2x5IGVuZCB0aW1lIGluIFVUQyBm\
b3IgdGhlIFJlZFNoaWZ0IG1haW50ZW5hbmNlIHdpbmRvdywgbXVzdCBiZSBsZXNzIHRoYW4gUHJl\
ZmVycmVkIE1haW50ZW5hbmNlIFdpbmRvdyBFbmQgVGltZSBhbmQgY2Fubm90IG92ZXJsYXAgd2l0\
aCBQcmVmZXJyZWQgQmFja3VwIFdpbmRvdyAoZS5nLiAiMDQ6MDAiKScKICAgICAgICB0eXBlOiBz\
dHJpbmcKICAgICAgICBkZWZhdWx0OiAiMDY6MDAiCiAgICAgIC0gbmFtZTogTnVtYmVyT2ZBdmFp\
bGFiaWxpdHlab25lcwogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IE51bWJl\
ciBvZiBBdmFpbGFiaWxpdHkgWm9uZXMKICAgICAgICBkZXNjcmlwdGlvbjogJ1F1YW50aXR5IG9m\
IHN1Ym5ldHMgdG8gdXNlLCBpZiBzZWxlY3RpbmcgbW9yZSB0aGFuIDIgdGhlIHJlZ2lvbiB0aGlz\
IHN0YWNrIGlzIGluIG11c3QgaGF2ZSBhdCBsZWFzdCB0aGF0IG1hbnkgQXZhaWxhYmlsaXR5IFpv\
bmVzJwogICAgICAgIHR5cGU6IGludAogICAgICAgIGRlZmF1bHQ6IDMKICAgICAgLSBuYW1lOiBB\
dmFpbGFiaWxpdHlab25lcwogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IEF2\
YWlsYWJpbGl0eSBab25lcwogICAgICAgIGRlc2NyaXB0aW9uOiAnQ29tbWEgc2VwYXJhdGVkIGxp\
c3Qgb2YgYXZhaWxhYmlsaXR5IHpvbmVzIHRvIHVzZSwgbXVzdCBiZSB0aGUgc2FtZSBxdWFudGl0\
eSBhcyBzcGVjaWZpZWQgaW4gTnVtYmVyIG9mIEF2YWlsYWJpbGl0eSBab25lcyAoZS5nLiAidXMt\
d2VzdC0yYSx1cy13ZXN0LTJiLHVzLXdlc3QtMmMiKScKICAgICAgICB0eXBlOiBzdHJpbmcKICAg\
ICAgICBkZWZhdWx0OiAidXMtd2VzdC0yYSx1cy13ZXN0LTJiLHVzLXdlc3QtMmMiCiAgICAgIC0g\
bmFtZTogQ2lkckJsb2NrcwogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IENJ\
RFIgQmxvY2tzCiAgICAgICAgZGVzY3JpcHRpb246ICdDb21tYSBzZXBlcmF0ZWQgbGlzdCBvZiBD\
SURSIGJsb2NrcyB0byBwbGFjZSBSRFMgaW50bywgbXVzdCBiZSB0aGUgc2FtZSBxdWFudGl0eSBh\
cyBzcGVjaWZpZWQgaW4gTnVtYmVyIG9mIEF2YWlsYWJpbGl0eSBab25lcyAoZS5nLiAiMTAuMC45\
Ni4wLzIwLDEwLjAuMTEyLjAvMjAsMTAuMC4xMjguMC8yMCIpJwogICAgICAgIHR5cGU6IHN0cmlu\
ZwogICAgICAtIG5hbWU6IEFjY2Vzc0NpZHIKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAg\
IHRpdGxlOiBBY2Nlc3MgQ0lEUgogICAgICAgIGRlc2NyaXB0aW9uOiAnQ0lEUiBibG9jayB0byBh\
bGxvdyB0byBjb25uZWN0IHRvIGRhdGFiYXNlIChlLmcuICIxMC4wLjAuMC8xNiIpJwogICAgICAg\
IHR5cGU6IHN0cmluZwogICAgICAtIG5hbWU6IE5vZGVUeXBlCiAgICAgICAgcmVxdWlyZWQ6IHRy\
dWUKICAgICAgICB0aXRsZTogTm9kZSBUeXBlCiAgICAgICAgZGVzY3JpcHRpb246ICdUaGUgbm9k\
ZSB0eXBlIHRoYXQgaXMgcHJvdmlzaW9uZWQgZm9yIHRoaXMgY2x1c3Rlci4nCiAgICAgICAgdHlw\
ZTogc3RyaW5nCiAgICAgICAgZGVmYXVsdDogJ2RjMS5sYXJnZScKICAgICAgLSBuYW1lOiBOdW1i\
ZXJPZk5vZGVzCiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogTnVtYmVyIG9m\
IE5vZGVzCiAgICAgICAgZGVzY3JpcHRpb246ICdUaGUgbnVtYmVyIG9mIGNvbXB1dGUgbm9kZXMg\
aW4gdGhlIGNsdXN0ZXIuIElmIHlvdSBzcGVjaWZ5IG11bHRpLW5vZGUgZm9yIHRoZSBDbHVzdGVy\
VHlwZSBwYXJhbWV0ZXIsIHlvdSBtdXN0IHNwZWNpZnkgYSBudW1iZXIgZ3JlYXRlciB0aGFuIDEu\
IFlvdSBjYW4gbm90IHNwZWNpZnkgdGhpcyBwYXJhbWV0ZXIgZm9yIGEgc2luZ2xlLW5vZGUgY2x1\
c3Rlci4gbWluIDIgbWF4IDMyICcKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgICBkZWZhdWx0\
OiAnMycKICAgICAgLSBuYW1lOiBDbHVzdGVyVHlwZQogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAg\
ICAgICAgdGl0bGU6IENsdXN0ZXIgVHlwZQogICAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIHR5cGUg\
b2YgY2x1c3Rlci4gU3BlY2lmeSBzaW5nbGUtbm9kZSBvciBtdWx0aS1ub2RlIChkZWZhdWx0KS4g\
IE51bWJlciBvZiBub2RlcyBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAxIGZvciBtdWx0aS1ub2RlJwog\
ICAgICAgIHR5cGU6IHN0cmluZwogICAgICAgIGRlZmF1bHQ6ICdtdWx0aS1ub2RlJwogICAgICAt\
IG5hbWU6IE1hc3RlclVzZXJuYW1lCiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRs\
ZTogTWFzdGVyIFVzZXIgTmFtZQogICAgICAgIGRlc2NyaXB0aW9uOiAnTWFzdGVyIGRhdGFiYXNl\
IFVzZXJuYW1lJwogICAgICAgIHR5cGU6IHN0cmluZwogICAgICAgIGRlZmF1bHQ6IGFkbWluCiAg\
ICAgIC0gbmFtZTogTWFzdGVyVXNlclBhc3N3b3JkCiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAg\
ICAgICB0aXRsZTogTWFzdGVyIFVzZXIgUGFzc3dvcmQKICAgICAgICBkZXNjcmlwdGlvbjogJ01h\
c3RlciB1c2VyIGRhdGFiYXNlIFBhc3N3b3JkJwogICAgICAgIHR5cGU6IHN0cmluZwogICAgICAg\
IGRlZmF1bHQ6IFBhc3N3MHJkCiAgICAgIC0gbmFtZTogQWxsb3dWZXJzaW9uVXBncmFkZQogICAg\
ICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IEFsbG93IFZlcnNpb24gVXBncmFkZQog\
ICAgICAgIGRlc2NyaXB0aW9uOiAnSWYgeW91IHVwZGF0ZSB0aGUgRW5naW5lIFZlcnNpb24gcHJv\
cGVydHkgdG8gYSB2ZXJzaW9uIHRoYXQnJ3MgZGlmZmVyZW50IGZyb20gdGhlIERCIGluc3RhbmNl\
JydzIGN1cnJlbnQgbWFqb3IgdmVyc2lvbiwgc2V0IHRoaXMgcHJvcGVydHkgdG8gdHJ1ZS4gKHZh\
bHVlczogInRydWUiLCAiZmFsc2UiKScKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgICBkZWZh\
dWx0OiAidHJ1ZSIKICAgICAgLSBuYW1lOiBTdG9yYWdlRW5jcnlwdGVkCiAgICAgICAgcmVxdWly\
ZWQ6IHRydWUKICAgICAgICB0aXRsZTogU3RvcmFnZSBFbmNyeXB0ZWQKICAgICAgICBkZXNjcmlw\
dGlvbjogJ0luZGljYXRlcyB3aGV0aGVyIHRoZSBDbHVzdGVyIHN0b3JhZ2UgaXMgZW5jcnlwdGVk\
LiAodmFsdWVzOiAidHJ1ZSIsICJmYWxzZSIpJwogICAgICAgIHR5cGU6IHN0cmluZwogICAgICAg\
IGRlZmF1bHQ6ICJ0cnVlIgogICAgICAtIG5hbWU6IFVzZUVsYXN0aWNJUAogICAgICAgIHJlcXVp\
cmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IFVzZSBFbGFzdGljIElQCiAgICAgICAgZGVzY3JpcHRp\
b246ICdGb3IgcHVibGljIGFjY2Vzc2FibGUgY2x1c3RlcnMgd2hpY2ggcmVxdWlyZSBhIHN0YXRp\
YyBJUCwgYXNzaWduIGEgRUlQJwogICAgICAgIHR5cGU6IHN0cmluZwogICAgICAgIGRlZmF1bHQ6\
ICJ0cnVlIgogICAgICAtIG5hbWU6IExvZ0J1Y2tldE5hbWUKICAgICAgICByZXF1aXJlZDogdHJ1\
ZQogICAgICAgIHRpdGxlOiBMb2cgQnVja2V0IE5hbWUKICAgICAgICBkZXNjcmlwdGlvbjogJ011\
c3QgYmUgYSB2YWxpZCBTMyBCdWNrZXQgaW4gc2FtZSBSZWdpb24saWYgbm8gYnVja2V0IGlzIHBy\
b3ZpZGVkIGF1ZGl0IGxvZ2dpbmcgd2lsbCBub3QgYmUgZW5hYmxlZCBmb3IgdGhpcyBjbHVzdGVy\
JwogICAgICAgIHR5cGU6IHN0cmluZwogICAgICAgIGRlZmF1bHQ6ICJ0cnVlIgogICAgbWV0YWRh\
dGE6CiAgICAgICAgZGlzcGxheU5hbWU6ICJBbWF6b24gUmVkc2hpZnQiCiAgICAgICAgbG9uZ0Rl\
c2NyaXB0aW9uOiAiQW1hem9uIFJlZHNoaWZ0IGlzIGEgZmFzdCwgZnVsbHkgbWFuYWdlZCwgcGV0\
YWJ5dGUtc2NhbGUgZGF0YSB3YXJlaG91c2Ugc2VydmljZSB0aGF0IG1ha2VzIGl0IHNpbXBsZSBh\
bmQgY29zdC1lZmZlY3RpdmUgdG8gZWZmaWNpZW50bHkgYW5hbHl6ZSBhbGwgeW91ciBkYXRhIHVz\
aW5nIHlvdXIgZXhpc3RpbmcgYnVzaW5lc3MgaW50ZWxsaWdlbmNlIHRvb2xzLiBJdCBpcyBvcHRp\
bWl6ZWQgZm9yIGRhdGFzZXRzIHJhbmdpbmcgZnJvbSBhIGZldyBodW5kcmVkIGdpZ2FieXRlcyB0\
byBhIHBldGFieXRlIG9yIG1vcmUgYW5kIGNvc3RzIGxlc3MgdGhhbiAkMSwwMDAgcGVyIHRlcmFi\
eXRlIHBlciB5ZWFyLCBhIHRlbnRoIHRoZSBjb3N0IG9mIG1vc3QgdHJhZGl0aW9uYWwgZGF0YSB3\
YXJlaG91c2luZyBzb2x1dGlvbnMuIgogICAgICAgIGltYWdlVXJsOiAiaHR0cHM6Ly9kMC5hd3Nz\
dGF0aWMuY29tL2Nsb3VkLXN0b3JhZ2UvRGVja19EYXRhYmFzZXMucG5nIgogICAgICAgIGRvY3Vt\
ZW50YXRpb25Vcmw6ICJodHRwczovL2F3cy5hbWF6b24uY29tL2RvY3VtZW50YXRpb24vcmVkc2hp\
ZnQvIgogICAgICAgIGNvc3Q6ICQwLjAwCg=="


USER apb
