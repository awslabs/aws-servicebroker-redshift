FROM ansibleplaybookbundle/apb-base
MAINTAINER Ansible Playbook Bundle Community

RUN yum -y install python-boto3 && yum clean all

COPY roles /opt/ansible/roles
COPY playbooks /opt/apb/actions

LABEL "com.redhat.apb.version"="0.1.0"
LABEL "com.redhat.apb.spec"=\
"bmFtZTogcmVkc2hpZnQtYXBiCmltYWdlOiBhbnNpYmxlcGxheWJvb2tidW5kbGUvcmVkc2hpZnQt\
YXBiCmRlc2NyaXB0aW9uOiAnTWFuYWdlZCByZWRzaGlmdCBjbHVzdGVyJwp0YWdzOgogIC0gYW1h\
em9uCiAgLSByZWRzaGlmdApiaW5kYWJsZTogdHJ1ZQphc3luYzogb3B0aW9uYWwKcGxhbnM6CiAg\
LSBuYW1lOiBkZWZhdWx0CiAgICBkZXNjcmlwdGlvbjogJ01hbmFnZWQgcmVkc2hpZnQgY2x1c3Rl\
cicKICAgIGZyZWU6IGZhbHNlCiAgICBwYXJhbWV0ZXJzOgogICAgICAtIG5hbWU6IHN0YWNrX2lk\
ZW50aWZpZXIKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBVbmlxdWUgU3Rh\
Y2sgSWRlbnRpZmllcgogICAgICAgIGRlc2NyaXB0aW9uOiAnVW5pcXVlIGlkZW50aWZpZXIgdG8g\
YmUgaW5jbHVkZWQgaW4gdGhlIENsb3VkRm9ybWF0aW9uIFN0YWNrIE5hbWUgdG8gcHJldmVudCBu\
YW1pbmcgY29sbGlzaW9ucy4gTXVzdCBvbmx5IGNvbnRhaW4gYWxwaGFudW1lcmljIGNoYXJhY3Rl\
cnMgYW5kIGh5cGhlbnMuIChlLmcuICJzYW1wbGUtcmVkc2hpZnQtc3RhY2siLCAicHJvZHVjdGlv\
bi1yZWRzaGlmdC0wOS0yMDE3IiknCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgIC0gbmFtZTog\
YXdzX2FjY2Vzc19rZXkKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBBV1Mg\
QWNjZXNzIEtleQogICAgICAgIGRlc2NyaXB0aW9uOiAnQVdTIEFjY2VzcyBLZXkgdG8gYXV0aGVu\
dGljYXRlIHRvIEFXUyB3aXRoLicKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgLSBuYW1lOiBh\
d3Nfc2VjcmV0X2tleQogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IEFXUyBT\
ZWNyZXQgS2V5CiAgICAgICAgZGVzY3JpcHRpb246ICdBV1MgU2VjcmV0IEtleSB0byBhdXRoZW50\
aWNhdGUgdG8gQVdTIHdpdGguJwogICAgICAgIHR5cGU6IHN0cmluZwogICAgICAtIG5hbWU6IHJl\
Z2lvbgogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IEFXUyBSZWdpb24KICAg\
ICAgICBkZXNjcmlwdGlvbjogJ0FXUyBSZWdpb24gdG8gY3JlYXRlIFJEUyBpbnN0YW5jZSBpbi4n\
CiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgICAgZGVmYXVsdDogInVzLXdlc3QtMiIKICAgICAg\
LSBuYW1lOiBBcHBsaWNhdGlvbk5hbWUKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRp\
dGxlOiBBcHBsaWNhdGlvbiBOYW1lCiAgICAgICAgZGVzY3JpcHRpb246ICdSZWRzaGlmdCBBcHBs\
aWNhdGlvbiBuYW1lJwogICAgICAgIHR5cGU6IHN0cmluZwogICAgICAtIG5hbWU6IERCTmFtZQog\
ICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IERCIE5hbWUKICAgICAgICBkZXNj\
cmlwdGlvbjogIlRoZSBuYW1lIG9mIHRoZSBkYXRhYmFzZSB0byBjcmVhdGUgd2hlbiB0aGUgUmVk\
c2hpZnQgY2x1c3RlciBpcyBjcmVhdGVkLiBNdXN0IGJlIGxvd2VyY2FzZSwgYmVnaW4gd2l0aCBh\
IGxldHRlciwgY29udGFpbiBvbmx5IGFscGhhbnVtZXJpYyBjaGFyYWN0ZXJzLCBhbmQgYmUgbGVz\
cyB0aGFuIDY0IGNoYXJhY3RlcnMuKSIKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgICBkZWZh\
dWx0OiAicmVkc2hpZnRkYjEiCiAgICAgIC0gbmFtZTogVnBjSWQKICAgICAgICByZXF1aXJlZDog\
dHJ1ZQogICAgICAgIHRpdGxlOiBWUEMgSUQKICAgICAgICBkZXNjcmlwdGlvbjogJ1ZQQyBJRCAo\
ZS5nLiAidnBjLTZjOWYxYTBiIiknCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgIC0gbmFtZTog\
QmFja3VwUmV0ZW50aW9uUGVyaW9kCiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRs\
ZTogQmFja3VwIFJldGVudGlvbiBQZXJpb2QKICAgICAgICBkZXNjcmlwdGlvbjogJ1RoZSBudW1i\
ZXIgb2YgZGF5cyBkdXJpbmcgd2hpY2ggYXV0b21hdGljIEJhY2t1cHMgYXJlIHJldGFpbmVkLiBT\
ZXR0aW5nIDAgZGlzYWJsZXMgYXV0b21hdGljIHNuYXBzaG90cywgbWF4aW11bSB2YWx1ZSBpcyAz\
NS4nCiAgICAgICAgdHlwZTogaW50CiAgICAgICAgZGVmYXVsdDogMzUKICAgICAgLSBuYW1lOiBQ\
b3J0TnVtYmVyCiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogUG9ydCBOdW1i\
ZXIKICAgICAgICBkZXNjcmlwdGlvbjogJ1RoZSBwb3J0IG51bWJlciBmb3IgdGhlIGRhdGFiYXNl\
IHNlcnZlciB0byBsaXN0ZW4gb24uICh2YWx1ZXMgaW4gcmFuZ2UgMTE1MC02NTUzNSknCiAgICAg\
ICAgdHlwZTogaW50CiAgICAgICAgZGVmYXVsdDogNTQzOQogICAgICAtIG5hbWU6IFB1YmxpY2x5\
QWNjZXNzaWJsZQogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IFB1YmxpY2x5\
IEFjY2Vzc2libGUKICAgICAgICBkZXNjcmlwdGlvbjogJ0luZGljYXRlcyB3aGV0aGVyIHRoZSBE\
QiBpbnN0YW5jZSBpcyBhbiBJbnRlcm5ldC1mYWNpbmcgaW5zdGFuY2UuICh2YWx1ZXM6ICJ0cnVl\
IiwgImZhbHNlIiknCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgICAgZGVmYXVsdDogInRydWUi\
CiAgICAgIC0gbmFtZTogUHJlZmVycmVkTWFpbnRlbmFuY2VXaW5kb3dEYXkKICAgICAgICByZXF1\
aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBEYXkgb2YgUHJlZmVycmVkIE1haW50ZW5hbmNlIFdp\
bmRvdwogICAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIGRheSBvZiB0aGUgd2VlayB3aGljaCBSZWRT\
aGlmdCAgbWFpbnRlbmFuY2Ugd2lsbCBiZSBwZXJmb3JtZWQgKGUuZy4gIk1vbiIpJwogICAgICAg\
IHR5cGU6IHN0cmluZwogICAgICAgIGRlZmF1bHQ6ICJNb24iCiAgICAgIC0gbmFtZTogUHJlZmVy\
cmVkTWFpbnRlbmFuY2VXaW5kb3dTdGFydFRpbWUKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAg\
ICAgIHRpdGxlOiBQcmVmZXJyZWQgTWFpbnRlbmFuY2UgV2luZG93IFN0YXJ0IFRpbWUKICAgICAg\
ICBkZXNjcmlwdGlvbjogJ1RoZSB3ZWVrbHkgc3RhcnQgdGltZSBpbiBVVEMgZm9yIHRoZSBSZWRT\
aGlmdCBtYWludGVuYW5jZSB3aW5kb3csIG11c3QgYmUgbGVzcyB0aGFuIFByZWZlcnJlZCBNYWlu\
dGVuYW5jZSBXaW5kb3cgRW5kIFRpbWUgYW5kIGNhbm5vdCBvdmVybGFwIHdpdGggUHJlZmVycmVk\
IEJhY2t1cCBXaW5kb3cgKGUuZy4gIjA0OjAwIiknCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAg\
ICAgZGVmYXVsdDogIjA0OjAwIgogICAgICAtIG5hbWU6IFByZWZlcnJlZE1haW50ZW5hbmNlV2lu\
ZG93RW5kVGltZQogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IFByZWZlcnJl\
ZCBNYWludGVuYW5jZSBXaW5kb3cgRW5kIFRpbWUKICAgICAgICBkZXNjcmlwdGlvbjogJ1RoZSB3\
ZWVrbHkgZW5kIHRpbWUgaW4gVVRDIGZvciB0aGUgUmVkU2hpZnQgbWFpbnRlbmFuY2Ugd2luZG93\
LCBtdXN0IGJlIGxlc3MgdGhhbiBQcmVmZXJyZWQgTWFpbnRlbmFuY2UgV2luZG93IEVuZCBUaW1l\
IGFuZCBjYW5ub3Qgb3ZlcmxhcCB3aXRoIFByZWZlcnJlZCBCYWNrdXAgV2luZG93IChlLmcuICIw\
NDowMCIpJwogICAgICAgIHR5cGU6IHN0cmluZwogICAgICAgIGRlZmF1bHQ6ICIwNjowMCIKICAg\
ICAgLSBuYW1lOiBOdW1iZXJPZkF2YWlsYWJpbGl0eVpvbmVzCiAgICAgICAgcmVxdWlyZWQ6IHRy\
dWUKICAgICAgICB0aXRsZTogTnVtYmVyIG9mIEF2YWlsYWJpbGl0eSBab25lcwogICAgICAgIGRl\
c2NyaXB0aW9uOiAnUXVhbnRpdHkgb2Ygc3VibmV0cyB0byB1c2UsIGlmIHNlbGVjdGluZyBtb3Jl\
IHRoYW4gMiB0aGUgcmVnaW9uIHRoaXMgc3RhY2sgaXMgaW4gbXVzdCBoYXZlIGF0IGxlYXN0IHRo\
YXQgbWFueSBBdmFpbGFiaWxpdHkgWm9uZXMnCiAgICAgICAgdHlwZTogaW50CiAgICAgICAgZGVm\
YXVsdDogMwogICAgICAtIG5hbWU6IEF2YWlsYWJpbGl0eVpvbmVzCiAgICAgICAgcmVxdWlyZWQ6\
IHRydWUKICAgICAgICB0aXRsZTogQXZhaWxhYmlsaXR5IFpvbmVzCiAgICAgICAgZGVzY3JpcHRp\
b246ICdDb21tYSBzZXBhcmF0ZWQgbGlzdCBvZiBhdmFpbGFiaWxpdHkgem9uZXMgdG8gdXNlLCBt\
dXN0IGJlIHRoZSBzYW1lIHF1YW50aXR5IGFzIHNwZWNpZmllZCBpbiBOdW1iZXIgb2YgQXZhaWxh\
YmlsaXR5IFpvbmVzIChlLmcuICJ1cy13ZXN0LTJhLHVzLXdlc3QtMmIsdXMtd2VzdC0yYyIpJwog\
ICAgICAgIHR5cGU6IHN0cmluZwogICAgICAgIGRlZmF1bHQ6ICJ1cy13ZXN0LTJhLHVzLXdlc3Qt\
MmIsdXMtd2VzdC0yYyIKICAgICAgLSBuYW1lOiBDaWRyQmxvY2tzCiAgICAgICAgcmVxdWlyZWQ6\
IHRydWUKICAgICAgICB0aXRsZTogQ0lEUiBCbG9ja3MKICAgICAgICBkZXNjcmlwdGlvbjogJ0Nv\
bW1hIHNlcGVyYXRlZCBsaXN0IG9mIENJRFIgYmxvY2tzIHRvIHBsYWNlIFJEUyBpbnRvLCBtdXN0\
IGJlIHRoZSBzYW1lIHF1YW50aXR5IGFzIHNwZWNpZmllZCBpbiBOdW1iZXIgb2YgQXZhaWxhYmls\
aXR5IFpvbmVzIChlLmcuICIxMC4wLjk2LjAvMjAsMTAuMC4xMTIuMC8yMCwxMC4wLjEyOC4wLzIw\
IiknCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgIC0gbmFtZTogQWNjZXNzQ2lkcgogICAgICAg\
IHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IEFjY2VzcyBDSURSCiAgICAgICAgZGVzY3Jp\
cHRpb246ICdDSURSIGJsb2NrIHRvIGFsbG93IHRvIGNvbm5lY3QgdG8gZGF0YWJhc2UgKGUuZy4g\
IjEwLjAuMC4wLzE2IiknCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgIC0gbmFtZTogTm9kZVR5\
cGUKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBOb2RlIFR5cGUKICAgICAg\
ICBkZXNjcmlwdGlvbjogJ1RoZSBub2RlIHR5cGUgdGhhdCBpcyBwcm92aXNpb25lZCBmb3IgdGhp\
cyBjbHVzdGVyLicKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgICBkZWZhdWx0OiAnZGMxLmxh\
cmdlJwogICAgICAtIG5hbWU6IE51bWJlck9mTm9kZXMKICAgICAgICByZXF1aXJlZDogdHJ1ZQog\
ICAgICAgIHRpdGxlOiBOdW1iZXIgb2YgTm9kZXMKICAgICAgICBkZXNjcmlwdGlvbjogJ1RoZSBu\
dW1iZXIgb2YgY29tcHV0ZSBub2RlcyBpbiB0aGUgY2x1c3Rlci4gSWYgeW91IHNwZWNpZnkgbXVs\
dGktbm9kZSBmb3IgdGhlIENsdXN0ZXJUeXBlIHBhcmFtZXRlciwgeW91IG11c3Qgc3BlY2lmeSBh\
IG51bWJlciBncmVhdGVyIHRoYW4gMS4gWW91IGNhbiBub3Qgc3BlY2lmeSB0aGlzIHBhcmFtZXRl\
ciBmb3IgYSBzaW5nbGUtbm9kZSBjbHVzdGVyLiBtaW4gMiBtYXggMzIgJwogICAgICAgIHR5cGU6\
IHN0cmluZwogICAgICAgIGRlZmF1bHQ6ICczJwogICAgICAtIG5hbWU6IENsdXN0ZXJUeXBlCiAg\
ICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogQ2x1c3RlciBUeXBlCiAgICAgICAg\
ZGVzY3JpcHRpb246ICdUaGUgdHlwZSBvZiBjbHVzdGVyLiBTcGVjaWZ5IHNpbmdsZS1ub2RlIG9y\
IG11bHRpLW5vZGUgKGRlZmF1bHQpLiAgTnVtYmVyIG9mIG5vZGVzIG11c3QgYmUgZ3JlYXRlciB0\
aGFuIDEgZm9yIG11bHRpLW5vZGUnCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgICAgZGVmYXVs\
dDogJ211bHRpLW5vZGUnCiAgICAgIC0gbmFtZTogTWFzdGVyVXNlcm5hbWUKICAgICAgICByZXF1\
aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBNYXN0ZXIgVXNlciBOYW1lCiAgICAgICAgZGVzY3Jp\
cHRpb246ICdNYXN0ZXIgZGF0YWJhc2UgVXNlcm5hbWUnCiAgICAgICAgdHlwZTogc3RyaW5nCiAg\
ICAgICAgZGVmYXVsdDogYWRtaW4KICAgICAgLSBuYW1lOiBNYXN0ZXJVc2VyUGFzc3dvcmQKICAg\
ICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBNYXN0ZXIgVXNlciBQYXNzd29yZAog\
ICAgICAgIGRlc2NyaXB0aW9uOiAnTWFzdGVyIHVzZXIgZGF0YWJhc2UgUGFzc3dvcmQnCiAgICAg\
ICAgdHlwZTogc3RyaW5nCiAgICAgICAgZGVmYXVsdDogUGFzc3cwcmQKICAgICAgLSBuYW1lOiBB\
bGxvd1ZlcnNpb25VcGdyYWRlCiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTog\
QWxsb3cgVmVyc2lvbiBVcGdyYWRlCiAgICAgICAgZGVzY3JpcHRpb246ICdJZiB5b3UgdXBkYXRl\
IHRoZSBFbmdpbmUgVmVyc2lvbiBwcm9wZXJ0eSB0byBhIHZlcnNpb24gdGhhdCcncyBkaWZmZXJl\
bnQgZnJvbSB0aGUgREIgaW5zdGFuY2UnJ3MgY3VycmVudCBtYWpvciB2ZXJzaW9uLCBzZXQgdGhp\
cyBwcm9wZXJ0eSB0byB0cnVlLiAodmFsdWVzOiAidHJ1ZSIsICJmYWxzZSIpJwogICAgICAgIHR5\
cGU6IHN0cmluZwogICAgICAgIGRlZmF1bHQ6ICJ0cnVlIgogICAgICAtIG5hbWU6IFN0b3JhZ2VF\
bmNyeXB0ZWQKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBTdG9yYWdlIEVu\
Y3J5cHRlZAogICAgICAgIGRlc2NyaXB0aW9uOiAnSW5kaWNhdGVzIHdoZXRoZXIgdGhlIENsdXN0\
ZXIgc3RvcmFnZSBpcyBlbmNyeXB0ZWQuICh2YWx1ZXM6ICJ0cnVlIiwgImZhbHNlIiknCiAgICAg\
ICAgdHlwZTogc3RyaW5nCiAgICAgICAgZGVmYXVsdDogInRydWUiCiAgICAgIC0gbmFtZTogVXNl\
RWxhc3RpY0lQCiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogVXNlIEVsYXN0\
aWMgSVAKICAgICAgICBkZXNjcmlwdGlvbjogJ0ZvciBwdWJsaWMgYWNjZXNzYWJsZSBjbHVzdGVy\
cyB3aGljaCByZXF1aXJlIGEgc3RhdGljIElQLCBhc3NpZ24gYSBFSVAnCiAgICAgICAgdHlwZTog\
c3RyaW5nCiAgICAgICAgZGVmYXVsdDogImZhbHNlIgogICAgICAtIG5hbWU6IExvZ0J1Y2tldE5h\
bWUKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBMb2cgQnVja2V0IE5hbWUK\
ICAgICAgICBkZXNjcmlwdGlvbjogJ011c3QgYmUgYSB2YWxpZCBTMyBCdWNrZXQgaW4gc2FtZSBS\
ZWdpb24saWYgbm8gYnVja2V0IGlzIHByb3ZpZGVkIGF1ZGl0IGxvZ2dpbmcgd2lsbCBub3QgYmUg\
ZW5hYmxlZCBmb3IgdGhpcyBjbHVzdGVyJwogICAgICAgIHR5cGU6IHN0cmluZwogICAgICAgIGRl\
ZmF1bHQ6ICJ0cnVlIgogICAgbWV0YWRhdGE6CiAgICAgICAgZGlzcGxheU5hbWU6ICJBbWF6b24g\
UmVkc2hpZnQiCiAgICAgICAgbG9uZ0Rlc2NyaXB0aW9uOiAiQW1hem9uIFJlZHNoaWZ0IGlzIGEg\
ZmFzdCwgZnVsbHkgbWFuYWdlZCwgcGV0YWJ5dGUtc2NhbGUgZGF0YSB3YXJlaG91c2Ugc2Vydmlj\
ZSB0aGF0IG1ha2VzIGl0IHNpbXBsZSBhbmQgY29zdC1lZmZlY3RpdmUgdG8gZWZmaWNpZW50bHkg\
YW5hbHl6ZSBhbGwgeW91ciBkYXRhIHVzaW5nIHlvdXIgZXhpc3RpbmcgYnVzaW5lc3MgaW50ZWxs\
aWdlbmNlIHRvb2xzLiBJdCBpcyBvcHRpbWl6ZWQgZm9yIGRhdGFzZXRzIHJhbmdpbmcgZnJvbSBh\
IGZldyBodW5kcmVkIGdpZ2FieXRlcyB0byBhIHBldGFieXRlIG9yIG1vcmUgYW5kIGNvc3RzIGxl\
c3MgdGhhbiAkMSwwMDAgcGVyIHRlcmFieXRlIHBlciB5ZWFyLCBhIHRlbnRoIHRoZSBjb3N0IG9m\
IG1vc3QgdHJhZGl0aW9uYWwgZGF0YSB3YXJlaG91c2luZyBzb2x1dGlvbnMuIgogICAgICAgIGlt\
YWdlVXJsOiAiaHR0cHM6Ly9kMC5hd3NzdGF0aWMuY29tL2Nsb3VkLXN0b3JhZ2UvRGVja19EYXRh\
YmFzZXMucG5nIgogICAgICAgIGRvY3VtZW50YXRpb25Vcmw6ICJodHRwczovL2F3cy5hbWF6b24u\
Y29tL2RvY3VtZW50YXRpb24vcmVkc2hpZnQvIgogICAgICAgIGNvc3Q6ICQwLjAwCg=="


USER apb
